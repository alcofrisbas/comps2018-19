{%  extends "webapp/header.html" %}

{% block content %}
    <div class="jumbotron">
        {% if not user.username %}
      <h1 class="display-4">Your doorway to inspiration.</h1>
      <p class="lead">Say hello to WriterBot, a friendly AI here to help you get over your writer's block!</p>
      <hr class="my-4">
      <p>Start writing your AI-assisted story here.</p>
      <a class="btn btn-primary btn-lg" href="/write" role="button">Get started</a>
      {% else %}
            <h1 class="display-4">Welcome back, {{ user.first_name }}!</h1>
            <p class="lead">Continue your creative journey with WriterBot.</p>
            <hr class="my-4">
            <a class="btn btn-primary btn-lg" href="/write" role="button">Current Story</a>
            <a class="btn btn-primary btn-lg" href="/new_story" role="button">Start a New Story</a>
            <hr class="my-4">
            {% if stories %}
                <p>Your current stories:</p>
                {% for story in stories %}
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title">{{ story.title }}</h5>
                            <a href="/load_story/{{ story.id }}" class="btn btn-primary">Continue this story</a>
                            <a href="/delete_story/{{ story.id }}" class="confirm-delete" title= "Delete" data-toggle="modal" data-target= "#confirmDeleteModal" id= "deleteButton{{story.id}}">
                                <i class="fa fa-trash fa-2x" style= "float: right; color: red;"></i> </a>
                          </div>
                    </div>
                {% endfor %}
            {% endif %}
        {% endif %}

<div class="modal fade" id="confirmDeleteModal" tabindex="-1" caller-id="" role="dialog" aria-labelledby="confirmDeleteModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-body confirm-delete">
        Are you sure you want to permanently delete this story?
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
        <button type="button" class="btn btn-danger" data-dismiss="modal" id="confirmDeleteButtonModal">Delete</button>
      </div>
    </div>
  </div>
</div>
    </div>

{% endblock %}
